README
======

October 2021
Guillermo Montero-Melis
guillermo.monteromelis@mpi.nl / montero.gui@gmail.com

This open and public repository contains all materials accompanying the
final version (Stage 2 submission) of our Registered Report submitted to the
journal Cortex: "No evidence for embodiment: The motor system is not needed
to keep action words in working memory" (Montero-Melis et al., 2021).

The research compendium for the Registered Report is stored on OSF:
https://osf.io/mvz3f/

The Stage 1 manuscript was In-Principle-Accepted in March 2021. It can be found
at https://osf.io/26fbh/ .

What follows is an explanation of all contents, folder by folder.



Root folder
===========

- `.gitattributes`: git-specific file that specifies which large files should
be handled by GitHub's LFS system (namely `.rds` files).
- `.gitignore`: standard file in git repositories to specify which files should
not be tracked.
- `2021_sp13_cortex_stage2.Rproj`: Use this to launch an R project from
RStudio. While not strictly necessary (R scripts can also be launched
independently), I recommend launching them as an R project. The path
specification in the scripts is written with this use in mind; if you run them
independently, you will have to adjust path specifications.
- `README.md`: The README file you are reading.



`analysis/` (folder)
==========

- `analysis.html`: Knitr report generated by `analysis.Rmd`; it contains all
the reported analyses and a few supplementary ones not reported in the paper.
Can be opened in any web browser.
- `analysis.Rmd`: The source code that generates the html report of the same
name. It mixes chunks of R code with markdown text. Note that model fitting
functions will first look if a model has already been fitted, and load it if
that is the case. If the model hasn't been fitted, it will fit it and save it to
disk. Model fitting can be *extremely* time consuming. The brms models can take
around 20 hours on a machine with 4 CPU cores at 1.9 GHz. So be prepared if you
run this script from scratch.
- `get_data.R`: R script that fetches the raw data (from `data/raw_data/`) and
processes it. The script will also save the processed datasets to disk. It is
included for documentation and reproducibility purposes, but the data files it
generates are already included in this repository (see `data/` folder).
- `interrater_agreement.R`: R script to compute the interrater agreement as
specified in our pre-registration. It does so by comparing the sample data
transcribed by two native speakers of Swedish (these datasets are 
`transcription_MB.tsv` and `transcription_petrus.tsv`, located in `data/`).
- `trial_exclusion.html`: knitr report documenting data exclusion based on
paradiddle performance, following our preregistration. It shows one example of
how data exclusion was applied and then it applies those criteria to all
participants.
- `trial_exclusion.Rmd`: Source code to generate `trial_exclusion.html`. This
script also generates a CSV file with all the trials that need to be excluded
(namely `data/excluded_trials_bc_of_paradiddle.csv`), which in turn is used in
`get_data.R`.


`analysis/myfigures/` (subfolder)
---------------------

This subfolder is automatically generated when running `analysis/analysis.Rmd`
and it stores all the figures reported in the paper as .png files.


`analysis/myfunctions/` (subfolder)
-----------------------

This subfolder contains functions that are called in the other scripts. It is
a way to avoid cluttering the main scripts. We have tried to give transparent
names to every function so it is clear what they are doing, but if you really
want to understand what is happening in the analysis and data processing
scripts, you need to check out the functions here.

- `analysis_fncs.R`: Contains all custom functions used in the 
`analysis/analysis.Rmd` script.
- `extract_info_fncs.R`: Contains all custom functions used to process the raw
data in the `analysis/get_data.R` script.
- `paradiddle_fncs.R`: Contains all custom functions used to process the
paradiddles executed on the drum pads; see `analysis/trial_exclusion.Rmd`.


`analysis/mymodels/` (subfolder)
-----------------------

This folder will by default only contain one file, `sp13_bfm_max.rds`. This is
the model we fit to the original data from Shebani and Pulvermüller (details
explained in Appendix B, see `appendices/`). Note that this is a large file and
so it is stored via GitHub's LFS system. If you clone this repo from git, you
might need to download this file explicitly because the repo just contains
a pointer to that file, see https://git-lfs.github.com/.

This is also the folder in which the fitted models will be stored if you run the
`analysis/analysis.Rmd` script. The models take a long time to run and they are
also extremely large objects; that is why they are not included in this 
repository, except for `sp13_bfm_max.rds`, which was already part of our 
Stage 1 submission.



`appendices/` (folder)
=============

Appendices A-H were part of the Stage 1 submission (i.e., prior to any data
collection). The remaining appendices (I--M) are part of the Stage 2 submission.
See manuscript for a more detailed description of each.



`data/` (folder)
=======

NB: The rendering of lists with items and sub-items works better in Github than
on OSF.

- `data_all.csv`: This is the main data file used for the analysis; it is
generated by `analysis/get_data.R`. It contains the data for all 77 valid
participants that went into our main analysis. Here is a description of the
columns:
  - *ID_unique*: Unique participant identifier; it includes the data and time
  at which the participant carried out the experiment.
  - *ID*: Participant identifier. This is an integer only and does not include
  date and time of experiment. These integers do not uniquely identify all 
  participants (there are one or two doublets), so *ID_unique* is needed. We're
  leaving this column to avoid compatibility errors in some of the scripts.
  - *block*: Specifies the order in which participants carried out each of the
  three blocks.
  - *block_type*: Specifies the type of block (control, arm interference, leg
  interference).
  - *trial_block*: The trial number within a block. A trial here consists of
  the four words shown to the participants, the memory period, and the recall
  period. Each block consisted of 26 trials. Note that each trial is spread
  over four rows, one for each of the verbs that had to be kept in memory.
  - *word_type*: Whether the words shown in a particular trial were arm-related
  ("arm") or leg-related ("leg").
  - *trial_exp*: A counter of all the trials in the experiment, across all
  three blocks. There were 78 trials in each experiment session.
  - *word_pos*: Word position within a trial. Each row represents one of the
  four words per trial and this column specifies which one it is (1-4).
  - *verb*: The actual verb shown
  - *transcription*: The participant's answer. Note that each row contains the
  transcription for the whole trial.
  - *error*: Our dependent variable (DV), specifying if there was a recall
  error (=1) or if the verb was correctly recalled (=0).

- `data60.csv`: The structure of this file is identical to `data_all.csv`. The
only difference is that it contains data for the first 60 valid participants
who finished the experiment.

- `excluded_trials_bc_of_paradiddle.csv`: CSV file that specifies which trials
have to be excluded from the analysis due to performance on the paradiddles 
(following our preregistration). Generated in `analysis/trial_exclusion.Rmd`.
The column names have the same interpretation as in `data_all.csv` (see above).

- `handedness.csv`: Results of the handedness questionnaire (see 
`appendices/Appendix_M1_handedness_form_SWE.pdf`). Column description:
  - *Subject*: Uniquely identifies each subject, either with their ID integer
  if there is no ambiguity or adding the date time information if there is
  more than one participant with the same ID.
  - *Item*: Each of the 10 questions of the handedness form.
  - *Response*: A transcription of the participant response. 2 means two plus
  signs for right-hand preference, 1 means one such plus sign, 0 means no
  preference (one plus sign on each side), -1 denotes one plus sign for a 
  left-hand preference, -2 denotes two such plus signs. In sum, positive
  numbers indicate right-handedness for a specific action, negative numbers
  left-handedness. See Appendix M (in `appendices/`) to see the actual
  questionnaire.

- `participant_data_raw.csv`: Participant data as recorded by the Research
Assistant. It contains responses to the background questionnaire (Appendix L),
as well as other information and comments by the Research Assistant.
Column description:
  - *pptID*: Participant ID. It contains not only the assigned identification
  integer, but also the order in which blocks were carried out and, in the case
  of excluded participants, the experiment file generated by Psychopy.
  - *valid_ppt (1=yes, 2=yes[replacement], 9=no)*: A number code to indicate if a
  participant was valid or not. 1 means they are valid; 2 means they are valid
  and it is a participant that replaces an invalid one with the same ID number;
  9 means they are invalid.
  - *important notes (1=yes, 0=no)*: Indicates whether there are important 
  comments made during data collection for this participant that should be read
  by the experimenter (1=yes, 0=no).
  - *Kön*: Sex or gender. Participants had to choose among male, female or other.
  - *Ålder*: Age at the moment of the experiment.
  - *Födelseort - land och stad*: Place of birth - country and city.
  - *(När kom du till Sverige?)*: When did you arrive in Sweden. No answer means
  they were born in Sweden.
  - *Uppvuxen i stad...*: City where they grew up.
  - *Utomlandsvistelse i mer än 4 mån - när, var, hur länge?*: Longer visits
  abroad (over 4 months) - when, where, and how long.
  - *Läs- eller skrivproblem i skolan?*: Reading or writing problems in school.
  - *Nedsatt hörsel?*: Impaired hearing?
  - *Nedsatt syn?*: Impaired sight?
  - *Höger- eller vänsterhänt?*: Right- or left-handed?
  - *Högsta utbildning*: Highest education
  - *Utbildning avslutad eller pågående?*: Is this education concluded or 
  ongoing?
  - *Musikutövande*: Musical practice or training?
  - *Instrument, sammanhang och hur länge*: Which instrument did you play, in
  which context, and for how long?
  - *Problem med syn eller hörsel*: Hearing or sight problems?
  - *Psykologisk eller neurologisk sjukdom*: Psychiatric or neurological
  diagnoses?
  - *BPM hand/fot*: Individual threshold speed at which the paradiddle was
  performed (hand/feet), measured in beats per minute (BPM).
  - *Fass kommentarer*: Research assistant's comments (an "f" after a number
  means that the research assistant noticed an error in paradiddle execution in
  that trial). Note that for data exclusion we used exclusively the 
  preregistered criteria, see manuscript.
  - *Språkinlärning: Språk/Startålder/Färdighetsnivå*: Languages acquired
  (language/age of acquisition onset/proficiency on a 1-10 scale)
  - *Språk som används dagligen*: Languages routinely spoken
  - *Språk som talades hemma under uppväxt*: Languages spoken at home during
  childhood.
  - *Övriga kommentarer*: Other comments.

- `ppt_info.csv`: This is a clean version of the most important participant
information. It is generated in `analysis/get_data.R`. Column description:
  - *ID_unique*: same as in `data_all.csv`.
  - *sex*: Same as *kön* in `participant_data_raw.csv`.
  - *age*: Same as *Ålder* in `participant_data_raw.csv`.
  - *highest_education*: Same as *Högsta utbildning* in `participant_data_raw.csv`.
  - *BPM_hands*: Individual threshold for hands paradiddle measured in BPM;
  see *BPM hand/fot* in `participant_data_raw.csv`.
  - *BPM_feet*: Individual threshold for feet paradiddle measured in BPM;
  see *BPM hand/fot* in `participant_data_raw.csv`.
  - *hand_quot*: Handedness quotient, measured as the average score of the
  handedness questionnaire for each participant (see `handedness.csv`).

- `SP13_orig-data_total-errors_long-format.csv` contains the data from the
study we replicated (Shebani and Pulvermüller, 2013) as made available by
the authors. This is also the data we used in our reanalysis. The *errors*
column is the dependent variable and indicates the total number of errors in
each of the four critical conditions defined by *movement* (arm or leg 
paradiddle) and *word_type* (hand- or leg-related words).

- `transcription_MB.tsv` and `transcription_petrus.tsv`: Transcription files
used to gauge interrater agreement (see `analysis/interrater_agreement.R`).
Column description:
  - *filename*: The exact audio file that was transcribed (these were generated
  by the PsychoPy experiment individually for each trial).
  - *transcription*: Manual transcription provided by the transcriber. Words
  are separated by an empty space. See Appendix I in `appendices/` for
  transcription guidelines.
  - *comment*: comments made by the transcribers.
  - *block*: block of the trial.
  - *date_time*: Date and time at which participant carried out the experiment.
  - *participant*: Participant ID. This is the same as the *ID* column in
  `data_all.csv`.
  - *trial*: Trial within a block. Note that the count starts from 0, so it is
  equal to the *trial_block* in `data_all.csv` minus 1.

- `transcriptions.tsv`: This is the final file containing all transcriptions;
its structure is identical to `transcription_MB.tsv` and 
`transcription_petrus.tsv`.


`raw_data` (subfolder)
----------------------

Contains all essential output files generated by the PsychoPy experiment used
for data collection. All `.csv` files are processed in the script 
`analysis/get_data.R`. The `.log` files contain the information about paradiddle
execution; they are processed in the script `analysis/trial_exclusion.Rmd`.


Note about sound files
======================

The crucial data generated by participants consists of audio files in which
their answers to each trial were recorded (that is, each file records their
oral recall of the verbs after holding them in memory for 6 seconds). This
data is not shared here because sound files can be used to identify individual
people and, thus, publicly sharing them conflicts with current data storing
policy and with the consent form signed by participants. The data on which all
our analyses are run consist of our transcription of these sound files (see
`data/transcriptions.tsv`. As pre-registered, we ran inter-rater reliability
analyses and also documented the guidelines that were used for the transcription
of the audio files. These are all shared in this repository.
